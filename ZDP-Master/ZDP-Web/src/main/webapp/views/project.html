<style>
/***  style for scrollbar  ***/

.scrollbar
{
	margin: 0px;
	float: left;
	height: 40px;
	width: 100%;
	background: #F5F5F5;
	overflow-x: scroll;
	
}

.force-overflow
{
	min-height: 450px;
}

#style-1::-webkit-scrollbar-track
{
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	border-radius: 10px;
	background-color: #F5F5F5;
}

#style-1::-webkit-scrollbar
{
	width: 12px;
	background-color: #F5F5F5;
}

#style-1::-webkit-scrollbar-thumb
{
	border-radius: 10px;
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
	background-color: #555;
}

/***  end of style for scrollbar  ***/


.actions, .chart {
    width: 99%;
    margin: 5px; 
		
}
.button {
    background: -moz-linear-gradient(center bottom , #3399FF 0%, #0381FE 52%) repeat scroll 0 0 #991D57;
    border: medium none;
	background-color:#3399FF;
    border-radius: 5px;
    color: #FFFFFF;
    cursor: pointer;
    margin: 0 0 5px 5px;
    padding: 10px;
    min-width:100px;
}
.button:hover {
    background-image: -moz-linear-gradient(center bottom , #0381FE 0%, #3399FF 52%);
    transition: background-color 0.3s ease-in-out 0s;
    background-color:#3399FF;
} 


   /* ******* chart style end *******  * /
   
   
	.custom-combobox {
		position: relative;
		display: inline-block;
		
	}
	.custom-combobox-toggle {
		position: absolute;
		top: 0;
		bottom: 0;
		margin-left: -1px;
		padding: 0;
		
	}
	.custom-combobox-input {
		margin: 0;
		padding: 5px 10px;
		}
	.ui-menu{
	z-index:99999999999999;
	}
	</style>
	<script charset="utf-8">
	(function( $ ) {
		$.widget( "custom.combobox", {
			_create: function() {
				this.wrapper = $( "<span>" )
					.addClass( "custom-combobox" )
					.insertAfter( this.element );

				this.element.hide();
				this._createAutocomplete();
				this._createShowAllButton();
			},

			_createAutocomplete: function() {
				var selected = this.element.children( ":selected" ),
					value = selected.val() ? selected.text() : "";

				this.input = $( "<input>" )
					.appendTo( this.wrapper )
					.attr('id','workspacename')
					.attr('value','Default')
					.attr('required',true)
					.addClass( "form-control custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left" )
					.autocomplete({
						delay: 0,
						minLength: 0,
						source: $.proxy( this, "_source" )
					})
					.tooltip({
						tooltipClass: "ui-state-highlight"
					});

				this._on( this.input, {
					autocompleteselect: function( event, ui ) {
						ui.item.option.selected = true;
						this._trigger( "select", event, {
							item: ui.item.option
						});
					},

					autocompletechange: "_removeIfInvalid"
				});
			},

			_createShowAllButton: function() {
				var input = this.input,
					wasOpen = false;

				$( "<a>" )
					.attr( "tabIndex", -1 )
					.attr( "title", "Show All Items" )
					.tooltip()
					.appendTo( this.wrapper )
					.button({
						icons: {
							primary: "ui-icon-triangle-1-s"
						},
						text: false
					})
					.removeClass( "ui-corner-all" )
					.addClass( "custom-combobox-toggle ui-corner-right" )
					.mousedown(function() {
						wasOpen = input.autocomplete( "widget" ).is( ":visible" );
					})
					.click(function() {
						input.focus();

						// Close if already visible
						if ( wasOpen ) {
							return;
						}

						// Pass empty string as value to search for, displaying all results
						input.autocomplete( "search", "" );
					});
			},

			_source: function( request, response ) {
				var matcher = new RegExp( $.ui.autocomplete.escapeRegex(request.term), "i" );
				response( this.element.children( "option" ).map(function() {
					var text = $( this ).text();
					if ( this.value && ( !request.term || matcher.test(text) ) )
						return {
							label: text,
							value: text,
							option: this
						};
				}) );
			},

			_removeIfInvalid: function( event, ui ) {

				// Selected an item, nothing to do
				if ( ui.item ) {
					return;
				}

				// Search for a match (case-insensitive)
				var value = this.input.val(),
					valueLowerCase = value.toLowerCase(),
					valid = false;
				this.element.children( "option" ).each(function() {
					if ( $( this ).text().toLowerCase() === valueLowerCase ) {
						this.selected = valid = true;
						return false;
					}
				});

				// Found a match, nothing to do
				if ( valid ) {
					return;
				}

				// Remove invalid value
				this.input
					//.val( "" )
					//.attr( "title", value + " didn't match any item" )
					//.tooltip( "open" );
				//this.element.val( "" );
				this._delay(function() {
					this.input.tooltip( "close" );
				}, 2500 );
				this.input.autocomplete( "instance" ).term = "";
			},

			_destroy: function() {
				this.wrapper.remove();
				this.element.show();
			}
		});
	})( jQuery );

	$(function() {
		$( "#combobox" ).combobox();
		/* $( "#toggle" ).click(function() {
			$( "#combobox" ).toggle();
		}); */
	});
	</script>
<center><div style="padding-top:200px;" id="projectLoader"><img src="images/loader.gif"></div></center>
<section ng-app="myModule">

	<div class="page-content blocky" my-directive ng-controller="PipelineCtrl" id="pipeGraph" style="display:none;">
		<!-- <div class="col-md-2"><ng-include src="'views/leftbar.html'" class="clearfix"></ng-include></div> -->
		<div class="modal fade" id="exportProject" tabindex="-1"
		role="dialog" aria-labelledby="exportProject"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">
				<span aria-hidden="true">&times;</span><span
					class="sr-only">Close</span>
				</button>
					<h4 class="modal-title" id="deleteLabel">{{typeProj}} Path {{exportProject}}</h4>
					</div>
					<div class="modal-body">
					<form ng-submit="submitExportProj(typeProj);" method="Post" name="fileexport">
						<div class="col-sm-14">
						<div class="col-sm-8"><input type="text" required id="editPath" ng-pattern="/^([a-zA-Z]:)?([\\\/][a-zA-Z0-9_\-]+)+\\?/" class="form-control" name="exportPath" placeholder="{{typeProj}} Path" ng-model="exportPath">
							<span class="alert-danger ng-hide" ng-show="fileexport.exportPath.$error.pattern">Please enter valid file path </span></div> <div class="col-sm-2">
							<input type="submit" class="btn btn-default" name="{{typeProj}}" value="{{typeProj}}"></div><div class="clearfix">&nbsp;</div></div>
							</form>
					
					
				</div>
			</div>
		</div></div>
		<div class="modal fade" id="exportConfirm" tabindex="-1" role="dialog" aria-labelledby="exportConfirm" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<b>Project {{typeProj}}</b>
				<button type="button" class="close " data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
				</button>
				</div>
				<div class="modal-body">
					<center><p class="{{msgClass}}"><b>{{exportMsg}}</b></p></center>

				</div>
			</div>
</div>
	</div>
				<div class="modal fade" id="AddModal" tabindex="-1" role="dialog"
			aria-labelledby="deleteLabel" aria-hidden="true">
		
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<b>Add Project</b>
						<button type="button" class="close " data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
						</button>

					</div>
					<form ng-submit="saveAddUpdatePipeline(editData)" name="PipeForm1"
							ng-model="schemaForm" id="PipeForm1"
							class="form ng-pristine ng-invalid ng-invalid-required"
							role="form">
					<div class="modal-body">
						
							<div class="row-fluid">&nbsp;</div>
							<div class="form-group col-sm-9">
								<label class="col-sm-3 control-label " for="genomeName">Name<sup><span
										aria-hidden="true" class="glyphicon glyphicon-asterisk red"></span></sup></label>
								<div class="col-sm-9 ">
									<input type="text" required="required "
										ng-pattern="/^[a-zA-Z0-9_\s]*$/" name="pipeName"
										placeholder="Name" id="genomeName" ng-model="editData.name" ng-blur="chkProjectName(editData.name)"
										class="form-control" ng-trim="true">
									<span ng-show="schemaForm1.pipeName.$error.pattern"
										class="alert-danger ng-hide ">Special Character Not
										allowed.</span>
										<i ng-show="projectexist" class="fa fa-times red">Project Name already exist,Use another name !</i>
								</div>
							</div>
							<div class="form-group col-sm-9 ">
								<label class="col-sm-3 control-label " for="Description">Description</label>
								<div class="col-sm-9 ">
									<textarea placeholder="Description" id="description"
										ng-model="editData.description"
										class="form-control"></textarea>

								</div>
							</div>
							
							<div class="form-group col-sm-9 ">
								<label class="col-sm-3 control-label " for="type">Type<sup><span
										aria-hidden="true" class="glyphicon glyphicon-asterisk red"></span></sup></label>
								<div class="col-sm-9 ">
									<select class="form-control"  ng-model="editData.project_type" name="type" id="project_type" ng-options="opt for opt in ['Ingestion','Transformation']" required>
									  <option></option>
									</select>

								</div>
							</div>

						<div class="form-group col-sm-7 ">
								<label class="col-sm-4 control-label " for="Location">Workspace</label>
								<div class="col-sm-8 ui-widget">
									<select class="form-control"  ng-model="editData.workSpace" name="workSpace" id="combobox">
										<option value=''></option>
										<option ng-repeat="item in workSpaceList"
										value="{{item.name}}">{{item.name}}</option></select>
								</div>
							</div><div class="clearfix">&nbsp;</div>
							</div><div class="modal-footer">
							
								<div class="form-group col-sm-14">
									<div class="col-sm-6 pull-left">
										<button data-dismiss="modal" class="btn btn-default" type="button">Cancel</button>

									</div>
									<div class="col-sm-2">
										<input type="submit" class="btn btn-primary " name="Save" value="Save">
									</div>

                
							</div></div>

						</form>
					

				</div>
			</div>
		</div>
		<div class="modal fade" id="AddDataSet" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<b>Add Dataset</b>
						<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
						</button>
						<h4 class="modal-title" id="myModalDetailsLabel1"></h4>

					</div>
					<div class="modal-body">
						<form class="form-horizontal" role="form" name="datasetform"
							id="datasetform" ng-submit="saveAddUpdateDataSet(editdataData)">
							<div class="row-fluid clearfix">
								<div class="row-fluid">&nbsp;</div>
								<div class="col-sm-12">
									<div class="form-group col-sm-12">
										<label for="genomeName" class="col-sm-4 control-label">Name<sup><span
												aria-hidden="true" class="glyphicon glyphicon-asterisk red"></span></sup></label>
										<div class="col-sm-8">
											<input type="text" class="form-control"
												ng-model="editdataData.name" id="genomeName"
												placeholder="Name"
												pattern="^[a-zA-Z][a-zA-Z0-9- _\.]{1,50}$"
												required="required">
										</div>
									</div>

									<div class="form-group col-sm-12">
										<label for="Schema" class="col-sm-4 control-label">Schema</label>
										<div class="col-sm-8" ng-controller="getTypeList">
											<select class="form-control" ng-model="editdataData.Schema"
												ng-options="schemalist for schemalist in data"
												ng-required="required">
											</select>

										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group col-sm-12">
										<label for="Description" class="col-sm-4 control-label">Description</label>
										<div class="col-sm-8">
											<textarea type="text" class="form-control" id="Description"
												ng-model="editdataData.description"
												placeholder="Description"></textarea>
										</div>
									</div>
								</div>
							</div>
							<div class="clearfix row-fluid ">
								<div class="col-sm-12">
									<div class="form-group col-sm-12">
										<label for="Location" class="col-sm-4 control-label">Location<sup><span
												aria-hidden="true" class="glyphicon glyphicon-asterisk red"></span></sup></label>
										<div class="col-sm-8">
											<input type="text" class="form-control"
												ng-model="editdataData.location" id="Location"
												placeholder="Location" required="required">
										</div>
									</div>
								</div>
								<div class="col-sm-12">
									<div class="form-group col-sm-12">

										<label for="Location" class="col-sm-4 control-label">Batch
											Structure<sup><span aria-hidden="true"
												class="glyphicon glyphicon-asterisk red"></span></sup>
										</label>
										<div class="col-sm-8">
											<input type="text" placeholder="YYYY-MM-DD"
												class="form-control" ng-model="editdataData.batchStructure"
												ng-required="true">
										</div>

									</div>
								</div>


							</div>





							<div class="clearfix">&nbsp;</div>
							<div class="row-fluid clearfix">
								<div class="form-group col-sm-9 pull-right">
									<div class="col-sm-5 pull-right">
										<button type="button" class="btn btn-default col-sm-12"
											data-dismiss="modal">Cancel</button>
									</div>
									<div class="col-sm-5 pull-right">
										<button type="submit" class="btn btn-primary  col-sm-12">Save</button>
									</div>
								</div>
							</div>

						</form>
					</div>

				</div>
			</div>
		</div>


		<div class="modal fade" id="editPipeLine" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<b>Add Pipeline</b>
						<button type="button" class="close " data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
						</button>
						<h4 class="modal-title " id="myModalDetailsLabel"></h4>

					</div>
					<div class="modal-body">
						<form ng-submit="saveAddUpdatePipeline(editPipeLineData,'edit')"
							name="PipeForm1" ng-model="schemaForm" id="PipeForm1"
							class="form ng-pristine ng-invalid ng-invalid-required"
							role="form">
							<div class="row-fluid">&nbsp;</div>
							<div class="form-group col-sm-9">
								<label class="col-sm-3 control-label " for="genomeName">Name<sup><span
										aria-hidden="true" class="glyphicon glyphicon-asterisk red"></span></sup></label>
								<div class="col-sm-9 ">
									<input type="text" required="required "
										ng-pattern="/^[a-zA-Z0-9_\s]*$/ " name="pipeName"
										placeholder="Name" id="genomeName"
										ng-model="editPipeLineData.name"
										class="form-control ng-pristine ng-invalid ng-invalid-required ng-valid-pattern ">
									<span ng-show="schemaForm1.pipeName.$error.pattern"
										class="alert-danger ng-hide ">Special Character Not
										allowed.</span>
								</div>
							</div>
							<div class="form-group col-sm-9 ">
								<label class="col-sm-3 control-label " for="Description">Description</label>
								<div class="col-sm-9 ">
									<textarea placeholder="Description" id="description"
										ng-model="editPipeLineData.description"
										class="form-control ng-pristine ng-valid "></textarea>

								</div>
							</div>



							<div class="form-group col-sm-7 ">
								<label class="col-sm-4 control-label " for="Location">Frequency</label>
								<div class="col-sm-6 ">
									<select name="SourcerFormat "
										ng-model="editPipeLineData.frequency"
										ng-options="sourceFreq[k] as t for (k,t) in sourceFreq"
										class="form-control ng-pristine ng-valid"
										ng-change="resetoffset()"></select>

								</div>
							</div>
							<div class="form-group col-sm-9">
								<label class="col-sm-3 control-label " for="Location">Offset</label>
								<div class="col-sm-3 ">
									<input type="text" name="pipeoffSet placeholder="
										offset" id="genomeName" ng-model="editPipeLineData.offset"
										class="form-control ng-pristine ng-invalid ng-invalid-required ng-valid-pattern"
										ng-disabled="editPipeLineData.frequency == 'One Time'">
								</div>
								<div class="col-sm-5"
									ng-show="editPipeLineData.frequency=='Hourly'">
									<select name="SourcerFormat"
										ng-model="editPipeLineData.offsetTime"
										ng-options="offsetHour[k] as t for (k,t) in offsetHour"
										class="form-control ng-pristine ng-valid"></select>

								</div>
								<div class="col-sm-5"
									ng-show="editPipeLineData.frequency=='Daily'">
									<select name="SourcerFormat"
										ng-model="editPipeLineData.offsetTime"
										ng-options="offsetDay[k] as t for (k,t) in offsetDay"
										class="form-control ng-pristine ng-valid"></select>

								</div>
							</div>
							<div class="row-fluid clearfix">
								<div class="form-group col-sm-12 pull-right">
									<div class="col-sm-2 pull-right">
										<button type="button" class="btn btn-default"
											data-dismiss="modal">Cancel</button>

									</div>
									<div class="col-sm-2 pull-right">
										<input type="submit" value="Save" name="Save"
											class="btn btn-primary  col-sm-12">
									</div>

								</div>
							</div>

						</form>
					</div>

				</div>
			</div>
		</div>
<!-- Display Chart -->					   
 <div class="modal fade" id="displayChart" tabindex="-1"
		role="dialog" aria-labelledby="displayChart"
		aria-hidden="true">
		<div class="modal-dialog" style="width: 90%">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button><br/>
					
					</div>
					<div class="modal-body">
						<div style="min-height: 600px; padding: 1px;">
						
						<style>
							#json_source, #rows, #columns {
							   
							    width: 98%;
							    height: 35px;
							    margin: 5px;
							    padding: 5px;
							    border: 1px solid #D8D8D8;
							}
							.multiselect-container {
							    height: 200px;  
							    overflow-x: hidden;
							    overflow-y: scroll;  
							}
							
						</style>
						
							<script>
							/** MULTI-SELECT DROP-DOWN **/
							
							$(function () {
							    $('[id*=x_axis]').multiselect({
							        includeSelectAllOption: true,
							        nonSelectedText: "X - AXIS",
							        selectedList: 1
							    });  
							    $('[id*=y_axis]').multiselect({
							        includeSelectAllOption: true,
							        nonSelectedText: "Y - AXIS",
							        selectedList: 1
							    }); 
							    $('[id*=data_size]').multiselect({
							        includeSelectAllOption: true,
							        nonSelectedText: "Range",
							        selectedList: 1
							    });
							});
						</script>
							
								<!-- --------------------------------------------------------------------- -->
								
								   <div class="actions">
							       	   							            
							            <span style="float-left; display: visible;">
										<select id="x_axis" style="min-width:200px;max-height:200px;">
									    	<option value="1">X - AXIS</option>
										</select></span>
										<span style="float-left; display: visible;">
										<select id="y_axis" style="min-width:200px;max-height:200px;">
									    	<option value="1">Y - AXIS</option>
										</select></span>
										<span style="float-left; display: visible;">
										<select id="data_size" style="min-width:200px;max-height:200px;">
									    	<option value="1">Range</option>
										</select></span>
										
										<button type="button" class="switcher btn btn-default" id="line">line</button>
							            <button type="button" class="switcher btn btn-default" id="column">column</button>
							            <button type="button" class="switcher btn btn-default" id="area">area</button>
							            <button type="button" class="switcher btn btn-default" id="spline">Spline</button>
							            <button type="button" class="switcher btn btn-default" id="areaspline">areaspline</button>
							        </div>
							       				       
								   <div id="chart" class="chart" style="min-height: 400px; margin: 5px; padding-top: 30px;"></div>	
								   
							</div>
								
								<!-- ............................... -->
											
				  </div>
			</div>
		</div></div>

		<div class="row">
	<!-- Integrate BreadCrumb here for a better user experience -->
	<div class="row">
		<div class="col-lg-12 zeroPadd">
			<div class="card style-default-bright">
				<div class="card-head">
				<div class="col-md-5" style="padding-left:0px;padding-right:0px; margin: 10px">
					<span class="iconPadding ng-hide" ng-class="{'pointerCursor': 'true' == 'true' || 'true' == 'true'}" ng-attr-title="{{userProfileData.haveWritePermissionOnProject === true || userProfileData.isSuperUser === true ? 'Add Project' : 'No permission'}}" ng-click="(userProfileData.haveWritePermissionOnProject || userProfileData.isSuperUser) &amp;&amp; clearForm('PipeForm1')" style="top:9px;margin-left:10%;" ng-show="viewing" title="Add Project">
					<img src="images/new_inactive.png" onmouseover="iconHover(this, 'new_active.png');" onmouseout="iconUnHover(this, 'new_inactive.png');" ng-show="(userProfileData.haveWritePermissionOnProject || userProfileData.isSuperUser)" class="icon-height" >
					<img src="images/new_inactive.png" ng-show="(!userProfileData.haveWritePermissionOnProject &amp;&amp; !userProfileData.isSuperUser)" class="ng-hide"></span>
					
					
					<span class="iconPadding ng-hide" ng-click="(userProfileData.haveWritePermissionOnProject || userProfileData.isSuperUser) &amp;&amp; importproj()" ng-attr-title="{{userProfileData.haveWritePermissionOnProject === true || userProfileData.isSuperUser === true ?  'Import Project' : 'No permission'}}" ng-class="{'pointerCursor': 'true' == 'true' || 'true' == 'true'}" ng-show="viewing" title="Import Project">
					<img src="images/import_inactive.png" onmouseover="iconHover(this, 'import_active.png');" onmouseout="iconUnHover(this, 'import_inactive.png');" ng-show="(userProfileData.haveWritePermissionOnProject || userProfileData.isSuperUser)" class="icon-height" ><img src="images/import_inactive.png" ng-show="(!userProfileData.haveWritePermissionOnProject &amp;&amp; !userProfileData.isSuperUser)" class="ng-hide"></span>
					
					
					<span class="pointerCursor iconPadding" ng-show="canvasshow || runH" ng-click="swapView('canvas');" title="Project List" style="top:9px;margin-left:10%;"><img src="images/list_inactive.png" onmouseover="iconHover(this, 'list_active.png');" onmouseout="iconUnHover(this, 'list_inactive.png');"></span>
					
					<span class="pointerCursor iconPadding ng-hide" ng-show="false" ng-click="swapView('list');" title="Canvas"><img src="images/canvas_inactive.png" onmouseover="iconHover(this, 'canvas_active.png');" onmouseout="iconUnHover(this, 'canvas_inactive.png');"></span>
					
					<span class="pointerCursor iconPadding" ng-show="canvasshow &amp;&amp; proHis &amp;&amp; (permissionLevel == 6 || permissionLevel == 7)" title="Save Project" id="saveDB"><img src="images/save_inactive.png" onmouseover="iconHover(this, 'save_active.png');" onmouseout="iconUnHover(this, 'save_inactive.png');"></span>
					
					<span class="pointerCursor iconPadding ng-hide" ng-show="canvasshow &amp;&amp; proHis &amp;&amp; permissionLevel != 6 &amp;&amp; permissionLevel != 7" ng-attr-title="{{permissionLevel == 6 || permissionLevel == 7 ? 'Save Project' : 'No permission'}}" title="Save Project">
					<img src="images/save_inactive.png" onmouseover="iconHover(this, 'save_active.png');" onmouseout="iconUnHover(this, 'save_inactive.png');" ng-disabled="projectRun" ng-show="permissionLevel == 6 || permissionLevel == 7" class="" disabled="disabled"><img src="images/save_inactive.png" ng-show="permissionLevel != 6 &amp;&amp; permissionLevel != 7" class="ng-hide"></span>
					
					<span class="pointerCursor iconPadding" ng-show="canvasshow &amp;&amp; proHis &amp;&amp; !runStop" ng-click="(permissionLevel == 5 || permissionLevel == 7) &amp;&amp; startPipeLine()" ng-attr-title="{{permissionLevel == 5 || permissionLevel == 7 ? 'Run Project' : 'No permission'}}" title="Run Project">
					<img src="images/play_inactive.png" onmouseover="iconHover(this, 'play_active.png');" onmouseout="iconUnHover(this, 'play_inactive.png');" ng-disabled="projectRun" ng-show="permissionLevel == 5 || permissionLevel == 7" class="" disabled="disabled"><img src="images/play_inactive.png" ng-show="permissionLevel != 5 &amp;&amp; permissionLevel != 7" class="ng-hide"></span>
					
					<span class="pointerCursor iconPadding ng-hide" ng-show="canvasshow &amp;&amp; proHis &amp;&amp; runStop" ng-click="(permissionLevel == 5 || permissionLevel == 7) &amp;&amp; stopPipeLine()" ng-attr-title="{{permissionLevel == 5 || permissionLevel == 7 ? 'Stop Project' : 'No permission'}}" title="Stop Project"><img src="images/stop_inactive.png" onmouseover="iconHover(this, 'stop_active.png');" onmouseout="iconUnHover(this, 'stop_inactive.png');"></span>
					
					<span class="pointerCursor iconPadding" ng-show="canvasshow &amp;&amp; proHis" ng-click="(permissionLevel == 5 || permissionLevel == 7) &amp;&amp; showRunH()" ng-attr-title="{{permissionLevel == 5 || permissionLevel == 7 ? 'Run History' : 'No permission'}}" title="Run History">
					<img src="images/runHistory_inactive.png" onmouseover="iconHover(this, 'runHistory_active.png');" onmouseout="iconUnHover(this, 'runHistory_inactive.png');" ng-disabled="projectRun" ng-show="permissionLevel == 5 || permissionLevel == 7" class="" disabled="disabled"><img src="images/runHistory_inactive.png" ng-show="permissionLevel != 5 &amp;&amp; permissionLevel != 7" class="ng-hide"></span>
					
					<span class="pointerCursor iconPadding ng-hide" ng-hide="proHis" ng-click="showRunH('backHis')" 
					title="Back"><img class="pointerCursor iconPadding" onmouseover="iconHover(this, 'back_active.png');" 
					onmouseout="iconUnHover(this, 'back_inactive.png');" style="top:9px;margin-left:1%;" src="images/back_inactive.png"></span>
					
					<!--<span class="pointerCursor iconPadding ng-hide" ng-show="runH" ng-click="showChart();" title="Back"><img class="pointerCursor iconPadding" onmouseover="iconHover(this, 'back_active.png');" onmouseout="iconUnHover(this, 'back_inactive.png');" style="top:9px;margin-left:1%;" src="images/back_inactive.png"></span>
					<button id="saveDB" class="btn btn-default" type="button">Save</button> -->
					</div>
					
					
					<div ng-show="canvasshow" class="pull-right" style="margin-right: 16px;" ng-class='{0:"col-lg-0", 1:"col-lg-3"}[canvastoggle]'>
					
						<img ng-show="showRight" ng-click="closerightPanel('open');" src="images/leftarrow.png" style="float:left;padding:2px; margin-top: 12px;margin-right:1px;cursor: pointer;" class="ng-hide">
					</div>

					<div class="col-md-6 pull-right" ng-show="addSchema" ng-hide="hidesearch">
												<div ng-show="addSchema" class="col-lg-5 pull-right" style="padding-top:7px;">
												<div class="col-md-3 pointerCursor" ng-click="filterRow = !filterRow" title="Filter"><i class="fa fa-filter fa-2x filtercss"></i></div>
												<form class="ng-pristine ng-valid">
												    <div class="form-group">
												      <div class="input-group col-md-14">
												        <div class="inner-addon left-addon"><i class="glyphicon glyphicon-search glyphicon_search"></i>
												        <input type="text" class="form-control ng-pristine ng-valid" placeholder="Search" ng-model="query[queryBy]"></div>
												      </div>     
						                            </div>
						                        </form>
						                        </div>
				    </div>
					<!-- <p data-ng-click="clearForm('PipeForm1')" class="btn btn-primary"> 
					<b>Add Project</b>
				</p>-->
				
				</div>
			</div>
		</div>
	</div>
									<!-- <div class="clearfix">&nbsp;</div> -->
									<div class="card style-default-bright" ng-show="runH">
									<div class="col-md-5" ng-show="runH"><h3>Run Status</h3></div>
									</div>
									<div class="card-body col-md-12" ng-show="runH">
									<div class="table-responsive"  style="z-index:400">
									<table class="table no-margin profile"    ts-wrapper>
											
												<thead id="transformation-header" hidden>
													<tr>
														<th ts-criteria="name|lowercase">Name</th>
														<th ts-criteria="status|lowercase">Status</th>
														<th ts-criteria="started|lowercase">Started</th>
														<th ts-criteria="finished|lowercase" ts-default="descending">Finished</th>
														<th ts-criteria="timeTaken|lowercase">Time Taken</th>
														
													</tr>
												</thead>
												<thead id="ingestion-header" hidden>
													<tr>
														<th ts-criteria="name|lowercase">WorkFow ID</th>
														<th ts-criteria="status|lowercase">Status</th>
														<th ts-criteria="started|lowercase">Started</th>
														<th ts-criteria="finished|lowercase" ts-default="descending">End Time</th>
														
													</tr>
												</thead>
												<tbody>
<!--inside <td> there are two cases 1 for ingestion 1 for transformation-->
													<tr	ng-repeat="obj in runHistory | orderObjectBy:orderByField:reverse"
													ts-repeat 
													ng-hide="obj.isRowHidden">
													<td ng-model="obj.name" ng-click="selectPipeline(obj.project_id,'',obj.version,'runHistory',obj.id);" class="pointerCursor">{{obj.name}}{{obj.id}}</td>
													<td>{{obj.status}}</td>
													<td>{{obj.started}}{{obj.startTime}}</td>
													<td>{{obj.finished}}{{obj.endTime}}</td>
													<td>{{obj.timeTaken}}</td>
														</tr>
										</tbody>
										</table>
										</div>
										</div>

										<!--  <div class="clearfix">&nbsp;</div>
									<div class="card style-default-bright" ng-show="viewing">
									<div class="col-md-5" ng-show="addSchema"><h3 class="modulename">Saved Projects</h3></div>
									<div class="col-md-6 pull-right" ng-show="addSchema">
												<div ng-show="addSchema" class="col-lg-5 pull-right" style="padding-top:7px;">
												<div class="col-md-3 pointerCursor" ng-click="filterRow = !filterRow" title="Filter"><i class="fa fa-filter fa-2x color"></i></div>
												<form class="ng-pristine ng-valid">
												    <div class="form-group">
												      <div class="input-group col-md-14">
												        <div class="inner-addon left-addon"><i class="glyphicon glyphicon-search glyphicon_search"></i>
												        <input type="text" class="form-control ng-pristine ng-valid" placeholder="Search" ng-model="query[queryBy]"></div>
												      </div>     
						                            </div></form></div></div>
									</div>
									<div class="clearfix">&nbsp;</div>  -->

									<!-- includes jquery fixed header file-->
									
									<script type="text/javascript" src="js/jquery.freezeheader.js"></script>
									<script > $(document).ready(function () {
										$("#contentScroll").freezeHeader({ 
											'height': '780px' 
											});
									})</script>
									<div class="clearfix">&nbsp;&nbsp;</div>
									<div class="card-body" ng-show="viewing" >
									<div class="table-responsive"  style="z-index:400">
    
									<table class="table no-margin profile " id="contentScroll"ts-wrapper>
											<col style="width:15%">
											<col style="width:18%">
											<col style="width:17%">
											<col style="width:13%">
											<col style="width:15%">
											<col style="width:15%">
												<thead style="	opacity:1 !important">
													<tr class="headertext">
														<th ts-criteria="name|lowercase">Name</th>
														<th ts-criteria="description|lowercase">Description</th>
														<th ts-criteria="workspace_name|lowercase">Workspace Name</th>
														<th ts-criteria="created_by|lowercase">Created By</th>
														<th ts-criteria="created|parseInt" ts-default="descending" ng-click="orderByField2('created')">Last Modified</th>
														<th>Operation</th>
													</tr>
													<tr ng-show="filterRow">
														<td><input class="form-control" type="text" placeholder="Name" ng-model="query['name']"></td>
														<td><input class="form-control" type="text" placeholder="Description" ng-model="query['description']"></td>	
														<td><input class="form-control" type="text" placeholder="Workspace Name" ng-model="query['workspace_name']"></td>
														<td><input class="form-control" type="text" placeholder="created By" ng-model="query['created_by']"></td>
														<td> <input class="form-control" type="text" placeholder="Last Modified" ng-model="query['lastModifiedtimestamp']"></td> 
														<td></td>
														</tr>
												</thead>
												
											<tbody>
											
													
													<tr	ng-repeat="obj in detaildataPipe | orderObjectBy:orderByField:reverse | filter:query"
													ts-repeat 
													ng-hide="obj.isRowHidden">
													<td ng-model="obj.name" ng-click="selectPipeline(obj.id,'',obj.version,obj.permissionLevel,'',obj.project_type);" class="pointerCursor">{{obj.name}}
													&nbsp;&nbsp;<i title="*Ingestion scheduled" class="fa fa-clock-o color" ng-show="obj.project_type == 'Ingestion'" style="cursor: pointer"></i>
													</td>
													<td>{{obj.project_type}}-{{obj.description}}</td>
													<td>{{obj.workspace_name}}</td>
													<td>{{obj.created_by}}</td>
													<!-- <td>{{obj.created | date:'medium'}}</td> -->
													<td>{{obj.created | date:'dd-MM-yyyy HH:mm:ss'}}</td> 													
													<!-- <td><a title="Delete" style="cursor: pointer" ng-click="showconfirm(obj.id,obj)"><span
															class="fa fa-trash color"></span></a></td> 
														</tr> -->
														<td>
																<a ng-click="exportproj(obj)"  title="Export to Network File System"><span
																class="glyphicon glyphicon-export color pointerCursor"></span></a>
																&nbsp;<a title="Delete" ng-class="{'pointerCursor': '{{obj.created_by}}' == '{{dUsername}}' || {{userProfileData.isSuperUser}} === true}" 
																 ng-attr-title="{{obj.created_by == dUsername || userProfileData.isSuperUser === true ? 'Delete' : 'No permission for delete'}}" ng-click=" (obj.created_by == dUsername || userProfileData.isSuperUser) && showconfirm(obj.id,obj)"><span
															class="fa fa-trash color"></span></a>
															<!-- Testing part -->
															&nbsp;<a ng-click="displayChart(obj.id)"  title="View Chart"><span
																class="glyphicon glyphicon-stats color pointerCursor"></span></a>
															
															</td> 
														</tr>
															
											</tbody>
										
									
										</table></div></div>
	<div class="card-body" ng-show="canvasshow" style="position: initial;height:850px;">
	<div class="table-responsive">
	<div id="thecanvascontainer" ng-class='{0:"col-lg-12", 1:"col-lg-9"}[canvastoggle]'  class="lessPadd">
					<div class="table-responsive">
						<table class="table table-pipeline">
							<tbody>
								<tr>
									
									<td><form name="myFormText"  confirm-on-exit>
										<div>
											<div>
												<center><h4 class="panel-title">
													<span
														id="graphHead" style="cursor: pointer;"><b>CANVAS VIEW</b></span>
														<!-- <div class="draggable-container" > -->
														&nbsp;<span id="prunload" style="display:none"><i class="fa fa-spinner fa-spin"></i></span>	
															</h4></center>
														<!-- </div> -->
														<div ng-show="graphShow" class="panel-body">
														<div id="saveProject" style="font-weight: bold;color:green;text-align:center"></div>
															<!-- <div id="container" class="drop-container" ng-click="addEvent($event)" droppable> -->
															<div class="pull-right">
																<button type="button" class="btn btn-default" id="saveall" ng-show=false>Save</button>
																<button id="loadChat" class="btn btn-default" type="button" ng-show=false>Load</button>
																
															</div>
															<div class="demo flowchart-demo" id="flowchart-demo" ng-attr-title="{{userProfileData.haveWritePermissionOnProject === true || userProfileData.isSuperUser === true ? '' : 'No permission to draw'}}">

															</div>	
															
															<div class="explanation" ><textarea id="jsonOutput" style="display:none;"></textarea></div>
														</div>
													</div>
													
															</form>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>


							

					
							<!-- <div ng-show="canvasshow">
								<img style="float:left;padding:2px; margin-top: 12px;margin-right:1px;cursor: pointer;" src="images/rightarrow.png" ng-click="closerightPanel('close');"  ng-show="hideRight">	
								<img style="float:left;padding:2px; margin-top: 12px;margin-right:1px;cursor: pointer;" src="images/leftarrow.png" ng-click="closerightPanel('open');"  ng-show="showRight">
							</div> -->	
							<div id="prpertyTD"  class="col-md-3 pull-right lessPadd panelPosition"  ng-switch on="datanode" style="width:400px">
							<div ng-show="canvasshow">
						<img ng-show="hideRight" ng-click="closerightPanel('close');" src="images/arrow_hide_third-panel.png" style="float:left;padding:0px; margin-top: 12px;margin-right:1px;cursor: pointer;" class="">	
					
					</div>
							
							 <div  ng-switch-when="templatecustom" class="rightPanelScroll"><div ng-include="'views/filtercol1.html'" ></div></div>	
							 <div  ng-switch-when="templatetransform" class="rightPanelScroll"><div ng-include="'views/templatehtml.html'" ></div>	</div>
							 <div  ng-switch-when="dataset" class="zeroPadd rightPanelScroll"><div ng-include="'views/datasetdetails.html'" ></div>	</div>
							 <div  ng-switch-when="project" class="zeroPadd rightPanelScroll"><div ng-include="'views/projectdetails.html'" ></div>	</div>
							 <div  ng-switch-when="join" class="zeroPadd rightPanelScroll"><div ng-include="'views/jointemplate.html'" ></div>	</div>
							 <div  ng-switch-when="groupby" class="zeroPadd rightPanelScroll"><div ng-include="'views/groupbytemplate.html'" ></div>	</div>
							 <div  ng-switch-when="model" class="zeroPadd rightPanelScroll"><div ng-include="'views/modeltemplate.html'" ></div>	</div>
							  <div  ng-switch-when="modelAddition" class="zeroPadd rightPanelScroll"><div ng-include="'views/modeladdtemplate.html'" ></div>	</div>
							  <div  ng-switch-when="modelnew" class="zeroPadd rightPanelScroll"><div ng-include="'views/modelNewtemplate.html'" ></div>	</div>
							 <div  ng-switch-when="action" class="zeroPadd rightPanelScroll"><div ng-include="'views/actiontemplate.html'" ></div>	</div>
							<div  ng-switch-when="testCompare" class="zeroPadd rightPanelScroll"><div ng-include="'views/testtemplate.html'" ></div>	</div> 
							 <div  ng-switch-when="moduleHistory" class="zeroPadd rightPanelScroll"><div ng-include="'views/modhistorytmp.html'" ></div>	</div>
							 <div  ng-switch-when="partition" class="zeroPadd rightPanelScroll"><div ng-include="'views/partitiontmp.html'" ></div>	</div>
							 <div id="saveStatus" style="font-weight: bold;color:green;padding-left:4px;"></div>
											
							</div>
							</div>
		
		<div class="modal fade" id="AddStage" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<b>Add Stage</b>
						<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
						</button>
						<h4 class="modal-title" id="myModalDetailsLabel1"></h4>

					</div>
					<div class="modal-body">
						<!--  <form  enctype="multipart/form-data" class="form-horizontal ng-pristine ng-valid" id="browsefile"> -->
						<form enctype="multipart/form-data"
							ng-submit="saveAddUpdateStage(editstageData,inputdatasetlist,outputdatasetlist)"
							name="stageForm1" ng-model="stageForm" id="stageForm1"
							class="form ng-pristine ng-invalid ng-invalid-required"
							role="form">

							<div class="form-group col-sm-14">
								<div class="col-sm-3">
									<select class="form-control"
										ng-options="stageType[k] as t for (k,t) in stageType"
										ng-model="editstageData.seletType" name="stageType"
										ng-change="removeDataArr();;"></select>

								</div>
								<div class="col-sm-3">
									<input type="text" required="required"
										ng-pattern="/^[a-zA-Z0-9_\s]*$/" name="stagename"
										placeholder="Stage Name" id="stageName"
										ng-model="editstageData.stagename"
										class="form-control ng-pristine ng-invalid ng-invalid-required ng-valid-pattern">
									<span ng-show="stageForm1.stagename.$error.pattern"
										class="alert-danger ng-hide">Special Character Not
										allowed.</span>
									<!-- <div class="combobox">
										<input type="text" name="comboboxfieldname" id="cb_identifier" name="stagename" placeholder="Stage Name" ng-model="editstageData.stagename">
										<span>â–¼</span>
										<div class="dropdownlist">
											<a ng-repeat="obj in allStages">{{obj.stagename}}</a>
											<a>Item1</a>
											<a>Item2</a>
										</div>
									</div> -->
								</div>
								<div class="col-sm-6">
									<textarea placeholder="Description" id="sdescription"
										ng-model="editstageData.stagedescription"
										class="form-control ng-pristine ng-valid"></textarea>

								</div>
								<div class="row clearfix">&nbsp;</div>
							</div>
							<!-- <div class="container">
					    <div class="row" id="exSelects">
					      <div class="col-sm-6">
					        <h4>Select with Search Filter</h4>
					         <select class="form-control" ng-options="stageType[k] as t for (k,t) in stageType" ng-model="editstageData.seletType" name="stageType" ng-change="removeDataArr();;"></select>
					      </div>/col
					    </div> -->

							<div class="form-group col-sm-10"
								ng-show="editstageData.seletType =='MapReduce' || editstageData.seletType =='Pig'">
								<!-- <div class="col-sm-6"> -->
								<label for="Type" class="col-sm-4 control-label">Input
									Dataset</label>
								<!-- </div> -->
								<!-- <div class="col-sm-6"><label for="Type" class="col-sm-6 control-label">Output Dataset</label></div> -->
								<div class="col-sm-6">
									<select class="form-control"
										ng-model="editstageData.inputDataset">
										<!-- multiple="multiple" -->
										<option ng-repeat="item in detaildataSet"
											value="{{item.name}}">{{item.name}}</option>
									</select>

								</div>
								<!--  <div class="col-sm-5">
                             <select class="form-control"    ng-model="editstageData.outDataset">multiple="multiple"
								 <option ng-repeat="item in detaildataSet" value="{{item.name}}">{{item.name}}</option>
								</select>
                            </div> -->

							</div>
							<div class="form-group col-sm-10"
								ng-show="editstageData.seletType =='MapReduce' || editstageData.seletType =='Pig'">
								<!-- <div class="col-sm-6"> -->
								<!-- <label for="Type" class="col-sm-4 control-label">Input Dataset</label> -->
								<!-- </div> -->
								<!-- <div class="col-sm-6">-->
								<label for="Type" class="col-sm-4 control-label">Output
									Dataset</label>
								<!-- </div> -->
								<div class="col-sm-6">
									<select class="form-control"
										ng-model="editstageData.outputDataset">
										<!-- multiple="multiple" -->
										<option ng-repeat="item in detaildataSet"
											value="{{item.name}}">{{item.name}}</option>
									</select>

								</div>
								<!--  <div class="col-sm-5">
                             <select class="form-control"    ng-model="editstageData.outDataset">multiple="multiple"
								 <option ng-repeat="item in detaildataSet" value="{{item.name}}">{{item.name}}</option>
								</select>
                            </div> -->

							</div>
							<div ng-show="editstageData.seletType =='MapReduce'">
								<div class="form-group col-sm-10">
									<label class="col-sm-4 control-label" for="mapclass">MapClass</label>
									<div class="col-sm-6">
										<input type="text" name="mapclass" placeholder="Class Path"
											id="mapclass" ng-model="editstageData.mapclass"
											class="form-control">
									</div>
								</div>
								<div class="form-group col-sm-10">
									<label class="col-sm-4 control-label" for="stageprocess">ReduceClass</label>
									<div class="col-sm-6">
										<input type="text" name="reduceclass" placeholder="Class Path"
											id="reduceclass" ng-model="editstageData.reduceclass"
											class="form-control">
									</div>
								</div>
							</div>
							<hr class="divider">
							<div ng-show="editstageData.seletType =='Hive'">
								<div class="form-group col-sm-14">
									<!-- <div class="col-sm-6"> -->
									<label for="Type" class="col-sm-3 control-label">Input
										Dataset</label>
									<!-- </div> -->
									<!-- <div class="col-sm-6"><label for="Type" class="col-sm-6 control-label">Output Dataset</label></div> -->
									<div class="col-sm-4">
										<select class="form-control"
											ng-model="editstageData.inputDataset">
											<!-- multiple="multiple" -->
											<option value="Add New dataset">Add New dataset</option>
											<option ng-repeat="item in detaildataSet"
												value="{{item.name}}">{{item.name}}</option>
										</select>

									</div>
									<div class="col-sm-1 pointerCursor"
										ng-click="addDataset(editstageData.inputDataset,'input');"
										href="">
										<i class="fa fa-plus-square fa-2x green"
											title="Add Input Dataset"></i>
									</div>
									<div class="form-group col-sm-4">
										<!--  <label class="col-sm-4 control-label" for="Description">Input dataset List</label> -->
										<div class="col-sm-14 breakLongtext">
											<span ng-model="inputdatasetlist" ng-show="showinputData">{{inputdatasetlist}}</span>
											<!-- <textarea placeholder="Dataset List" id="inputdata" ng-model="inputdatasetlist" class="form-control" ng-list="/\n/"></textarea> -->

										</div>
									</div>
									<div class="row clearfix" ng-hide="showinputData">&nbsp;</div>
								</div>

								<div class="form-group col-sm-14">
									<!-- <div class="col-sm-6"> -->
									<label for="Type" class="col-sm-3 control-label">Output
										Database</label>
									<!-- </div> -->
									<div class="col-sm-4">
										<select class="form-control"
											ng-model="editstageData.outDataset">
											<!-- multiple="multiple" -->
											<option value="Add New dataset"
												ng-click="clearForm(editData1.addStageSchema)">Add
												New dataset</option>
											<option ng-repeat="item in detaildataSet"
												value="{{item.name}}">{{item.name}}</option>
										</select>
									</div>
									<div class="col-sm-1 pointerCursor"
										ng-click="addDataset(editstageData.outDataset,'output');"
										href="">
										<i class="fa fa-plus-square fa-2x green"
											title="Add Output Dataset"></i>
									</div>

									<div class="form-group col-sm-4">
										<!-- <label class="col-sm-4 control-label" for="Description">OutputData</label> -->
										<div class="col-sm-14 breakLongtext">
											<span ng-model="outputdatasetlist" ng-show="showinoutputData">{{outputdatasetlist}}</span>
											<!-- <textarea placeholder="Dataset List" id="inputdata" ng-model="inputdatasetlist" class="form-control" ng-list="/\n/"></textarea> -->
										</div>
									</div>
									<div class="row clearfix" ng-hide="showinoutputData">&nbsp;</div>
								</div>
							</div>

							<div class="form-group col-sm"
								ng-show="editstageData.seletType =='Hive'">
								<label for="Type" class="col-sm-3 control-label">Define
									Query</label>
							</div>
							<div ng-show="editstageData.seletType =='Hive'"
								class="form-group col-sm-12 queryBox">
								<div class="form-group col-sm-22">
									<!-- <label class="col-sm-2 control-label" for="hiveql">Query</label> -->
									<div>
										<label data-ng-repeat="choice in choicesSchema.choices">
											<input type="radio" name="response" value="{{choice.text}}"
											ng-click="setChoiceForSchema(choicesSchema, choice)"
											ng-model="schemaType" />&nbsp; {{choice.text}}&nbsp;
										</label>
									</div>
									<div class="col-sm-12"
										ng-show="choicesSchema.choices[1].isUserAnswer">
										<textarea name="hiveSql" placeholder="Query" id="hiveSql"
											ng-model="editstageData.hiveSql" class="form-control"
											ng-blur="createDataSet(editstageData.hiveSql);"></textarea>
									</div>
									<div class="col-sm-12"
										ng-show="choicesSchema.choices[0].isUserAnswer">
										<div class="form-group col-sm-12">
											<label for="Schema" class="col-sm-2 control-label">Table</label>
											<div class="col-sm-4">
												<select class="form-control" ng-model="editTableData.table1"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-required="required"
													ng-change="getColumnName(editTableData.table1,1);">
												</select>

											</div>
											<div class="col-sm-4">
												<select class="form-control"
													ng-model="editTableData.columnval1"
													ng-options="columnName[1][k] as t for (k,t) in columnName[1]"
													ng-required="required" multiple="multiple">
												</select>

											</div>
										</div>
										<div class="form-group col-sm-18">
											<div class="col-sm-3">
												<select name="joinArray" ng-model="editTableData.join"
													ng-options="joinArray[k] as t for (k,t) in joinArray"
													class="form-control"></select>
											</div>
											<div class="col-sm-4">
												<select class="form-control" ng-model="editTableData.table2"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-required="required"
													ng-change="getColumnName(editTableData.table2,2);">
												</select>

											</div>
											<div class="col-sm-4">
												<select class="form-control"
													ng-model="editTableData.columnval2"
													ng-options="columnName[2][k] as t for (k,t) in columnName[2]"
													ng-required="required">
												</select>

											</div>
											&
											<div class="row clearfix col-sm-10">&nbsp;</div>
											<div class="col-sm-4">
												<select class="form-control" ng-model="editTableData.table3"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-required="required"
													ng-change="getColumnName(editTableData.table3,3);">
												</select>

											</div>
											<div class="col-sm-4">
												<select class="form-control"
													ng-model="editTableData.columnval3"
													ng-options="columnName[3][k] as t for (k,t) in columnName[3]"
													ng-required="required">
												</select>

											</div>
										</div>
										<div class="row clearfix col-sm-10">&nbsp;</div>
										<div class="form-group col-sm-12">
											<label for="Schema" class="col-sm-2 control-label">Filter</label>
											<div class="col-sm-4">
												<select name="filterArray" ng-model="editTableData.filter"
													ng-options="FilterArray[k] as t for (k,t) in FilterArray"
													class="form-control"></select>
											</div>
											<div class="col-sm-3">
												<select class="form-control" ng-model="editTableData.table4"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-change="getColumnName(editTableData.table4,4);"
													ng-required="required">
												</select>

											</div>
											<div class="col-sm-3">
												<select class="form-control"
													ng-model="editTableData.columnval4"
													ng-options="columnName[4][k] as t for (k,t) in columnName[4]"
													ng-required="required">
												</select>

											</div>
										</div>
										<div class="form-group col-sm-12">
											<div class="col-sm-3">
												<select name="expArray" ng-model="editTableData.expression"
													ng-options="expressArray[k] as t for (k,t) in expressArray"
													class="form-control"></select>
											</div>

											<div class="col-sm-4">
												<select class="form-control" ng-model="editTableData.table5"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-change="getColumnName(editTableData.table5,5);"
													ng-required="required">
												</select>

											</div>
											<div class="col-sm-4">
												<select class="form-control"
													ng-model="editTableData.columnval5"
													ng-options="columnName[5][k] as t for (k,t) in columnName[5]"
													ng-required="required">
												</select>

											</div>
										</div>
										<div class="form-group col-sm-12">
											<label for="Schema" class="col-sm-2 control-label">Group</label>
											<div class="col-sm-4">
												<select class="form-control" ng-model="editTableData.table6"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-change="getColumnName(editTableData.table6,6);"
													ng-required="required">
												</select>

											</div>
											<div class="col-sm-4">
												<select class="form-control"
													ng-model="editTableData.columnval6"
													ng-options="columnName[6][k] as t for (k,t) in columnName[6]"
													ng-required="required">
												</select>

											</div>
										</div>
										<div class="form-group col-sm-12">
											<label for="Schema" class="col-sm-2 control-label">Order</label>
											<div class="col-sm-4">
												<select class="form-control" ng-model="editTableData.table7"
													ng-options="inputdatasetlist[k] as t for (k,t) in inputdatasetlist"
													ng-change="getColumnName(editTableData.table7,7);"
													ng-required="required">
												</select>

											</div>
											<div class="col-sm-4">
												<select class="form-control"
													ng-model="editTableData.columnval7"
													ng-options="columnName[7][k] as t for (k,t) in columnName[7]"
													ng-required="required">
												</select>

											</div>
										</div>
										<div class="form-group col-sm-4 pull-right">
											<button type="button" class="btn btn-default"
												ng-click="constructQuery(editTableData);">Construct
												Query</button>
										</div>
										<div>
											<div class="form-group col-sm-12" ng-show="hiveQueryDiv">
												<textarea name="query" placeholder="SQL Query" id="query"
													ng-model="editstageData.hiveQuery" class="form-control"></textarea>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div ng-show="editstageData.seletType =='Pig'">
								<div class="form-group col-sm-10">
									<label class="col-sm-4 control-label" for="pig">Statement</label>
									<div class="col-sm-8">
										<textarea name="pig" placeholder="Statement" id="pig"
											ng-model="editstageData.pig" class="form-control"
											ng-blur="createDataSet(editstageData.pig);"></textarea>
									</div>
								</div>
							</div>
							<div ng-show="editstageData.seletType =='Spark'">
								<div class="form-group col-sm-10">
									<label class="col-sm-4 control-label" for="Spark">Spark</label>
									<div class="col-sm-8">
										<textarea name="spark" placeholder="Scala-Statement"
											id="spark" ng-model="editstageData.spark"
											class="form-control"
											ng-blur="createDataSet(editstageData.spark);"></textarea>
									</div>
								</div>
							</div>
							<!-- <div ng-show="querymatches.length > 0 && editstageData.seletType =='Spark' || querymatches.length > 0 && editstageData.seletType =='Pig' || querymatches.length > 0 && editstageData.seletType =='Hive'">
                            <div class="form-group col-sm-9">
                             <table class='table  table-bordered'>
       
					        <tr  ng-repeat="match in querymatches track by $index">
					            <td>
					               {{match}}
					            </td>
					            <td>
					            <select ng-model="model['option1'][match]">
								 <option value="Select">Select</option>
								  <option value="Dataset">Dataset</option>
								  <option value="Param">Param</option>
								</select>
					            </td>
					            <td>
								<select class="form-control"  ng-show="model['option1'][match] == 'Dataset'"  ng-model="editstageData['inputDataset'][match]">multiple="multiple"
								 <option ng-repeat="item in detaildataSet" value="{{item.name}}">{{item.name}}</option>
								</select>
					            <input type="text"  ng-show="model['option1'][match] == 'Param'" ng-model="editstageData['param'][match]">
					            </td>
					            </tr>
					            
					        <tr>
				            <td>
				             output Dataset
				            </td>
					        <td>
					            <select ng-model="model.option2">
								 <option value="Select">Select</option>
								  <option value="Dataset" selected>Dataset</option>
								  <option value="Param">Param</option>
								</select>
					        </td>
					        <td>
					        <select class="form-control"  ng-model="editstageData.outDataset">
								 <option ng-repeat="item in detaildataSet" value="{{item.name}}">{{item.name}}</option>
								</select>
							</td>
							</tr>
					       </table>
                            </div>
                          </div> -->
							<!--  <div class="form-group col-sm-9" ng-show="editstageData.seletType !='MapReduce'">
                            <label class="col-sm-3 control-label" for="stageprocess">Pre-Process</label>
                            <div class="col-sm-9">
                              <input type="text" name="preprocess" placeholder="Script" id="preprocess" ng-model="editstageData.preprocess" class="form-control">
                            </div>
                          </div>
                          <div class="form-group col-sm-9" ng-show="editstageData.seletType !='MapReduce'">
                            <label class="col-sm-3 control-label" for="stageprocess">Post-Process</label>
                            <div class="col-sm-9">
                              <input type="text" name="Post-Process" placeholder="Script" id="postprocess" ng-model="editstageData.postprocess" class="form-control">
                            </div>
                          </div> -->
							<div class="col-sm-4"
								ng-show="editstageData.seletType =='MapReduce'">
								<div class="col-sm-9">
									<input type="file" class="ng-pristine ng-valid" name="file"
										ng-model="document.fileInput" id="file"
										onchange="angular.element(this).scope().uploadFile(this.files)">
								</div>
								<div class="col-sm-3">
									<!-- <input type="text" class="col-sm-4" ng-model="document.title" id="title" /> -->
									<span ng-show="sucessUpload"> Success </span>
								</div>
							</div>
							<div class="row-fluid clearfix">
								<div class="form-group col-sm-12 pull-right">
									<div class="col-sm pull-right">
										<button type="button" class="btn btn-default"
											data-dismiss="modal">Cancel</button>

									</div>
									<div class="col-sm-5 pull-right"
										ng-show="editstageData.seletType !='MapReduce'">
										<input type="submit" value="Save" name="Save"
											class="btn btn-primary  col-sm-4 pull-right">
									</div>
									<div class="col-sm-6 pull-right"
										ng-show="editstageData.seletType =='MapReduce'">
										<span id="mapLoader" style="display: none;"
											class="btn btn-primary  col-sm pull-right"> <i
											class="fa fa-spinner fa-spin"></i>
										</span><input type="submit" value="Upload and TestRun" name="Save"
											class="btn btn-primary  col-sm-8 pull-right">
									</div>


								</div>
							</div>
					</div>

				</div>
			</div>
		</div>




	
	
</div>
<div class="modal fade" id="deleteConfirmModal" tabindex="-1"
														role="dialog" aria-labelledby="deleteLabel"
														aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="deleteLabel">Delete Project</h4>
				</div>
				<div class="modal-body">
					<p><b></b>Do you want to delete?</b></p>

				</div>
				<div class="modal-footer">
					<div class="col-md-6"><button data-ng-click="delete1()" id="deleteConfirm" class="btn btn-primary col-md-5 pull-right" type="button">Yes</button></div>
					<div class="col-md-6"> <button data-dismiss="modal" class="btn btn-default col-md-5" type="button">No</button></div>
						</div>
			</div>
</div>
														</div>
													

<div class="modal fade" id="compareModal" tabindex="-1" role="dialog" aria-labelledby="compareModal" aria-hidden="true">
	<div class="modal-dialog compareModal">
		<div class="modal-content">
			<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
			</button>
				<h4 class="modal-title" id="deleteLabel">Compare Model</h4>
				</div>
				<div class="modal-body" style="overflow-y:auto;max-height:600px;">
					<table class="tableval tablevalc table" style="width:100%">
				         <tr class="whiteRow">
						 <td>
							   <span>Attributes</span> 
							</th>
							<td ng-repeat="attriMol in modalLength track by $index">
							   <span>Model{{$index+1}}</span> 
							</td>
						</tr>
						<tr  ng-repeat="attriName in leftColumn track by $index">
							<td>
							   <span><b>{{attriName}}</b></span> 
							</td>
							<td ng-repeat="attriMol in modalLength track by $index"  >
								<table class="table-bordered">
				        		 <tr ng-repeat="rightAtt in rightColumn[$parent.$index][$index] track by $index" >
				        		 <td >
							   <span>{{rightAtt}}</span> </td></tr></table>
							</td>
						</tr>
				    </table>
			
				</div>
				
		</div>
	</div>
</div>
	</div>
	<div id="contextMenu" class="dropdown clearfix">
    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
      <li><a tabindex="-1" ng-click="">Save As</a></li>
     <li><a tabindex="-1" ng-click="showCompare();" class="pointerCursor">Show Comparison</a></li>
      <!-- <li><a tabindex="-1" href="#">Something else here</a></li>
      <li class="divider"></li>
      <li><a tabindex="-1" href="#">Separated link</a></li>  -->
    </ul>
  </div>
</section>


<script src="js/jsplumb.js"></script>
<script src="js/demo.js"></script>
<script>
if(document.getElementById("leftmenuDiv")){
	var scope = angular.element(document.getElementById("leftmenuDiv")).scope();
	//console.log(scope);
   // scope.$apply(function () {
    	//scope.editData.filterColumn = '';
    	scope.callSubMenu();
//   });
	
}
</script>
</div>
